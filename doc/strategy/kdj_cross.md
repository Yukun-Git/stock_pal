# KDJ Cross 策略文档

## 策略概述

**策略名称**: KDJ Cross（KDJ金叉）

**策略类型**: 超买超卖震荡指标策略

**策略描述**: KDJ指标（随机指标）是一种摆动类技术指标，通过分析价格在特定周期内的波动范围来判断超买超卖状态。策略在KDJ低位金叉时买入，高位时卖出。

## 策略原理

### 指标计算

KDJ指标由三条线组成：

1. **RSV（未成熟随机值）**:
   - RSV = (收盘价 - N日最低价) / (N日最高价 - N日最低价) × 100
   - 表示当前价格在N日波动范围中的相对位置
   - 取值范围：0-100

2. **K值（快速线）**:
   - K = 2/3 × 前一日K值 + 1/3 × 当日RSV
   - 对RSV进行平滑处理
   - 初始值通常为50

3. **D值（慢速线）**:
   - D = 2/3 × 前一日D值 + 1/3 × 当日K值
   - 对K值再次平滑
   - 初始值通常为50

4. **J值（方向敏感线）**:
   - J = 3K - 2D
   - 反映K、D偏离程度，波动最剧烈
   - 可以超出0-100范围

### 交易信号

**买入信号**:
- K线上穿D线（金叉）
- 且K值 < 超卖阈值（默认30）
- 表示在超卖区域出现反转信号，可能启动反弹

**卖出信号**:
- K值 > 超买阈值（默认70）
- 表示进入超买区域，风险增加，应该获利了结

## 策略参数

| 参数名称 | 类型 | 默认值 | 可选值/范围 | 说明 |
|---------|------|--------|-----------|------|
| timeframe | 选择 | D | D(日线), W(周线) | 策略运行的时间周期 |
| oversold | 整数 | 30 | 10-40 | KDJ低于此值视为超卖区域，金叉买入 |
| overbought | 整数 | 70 | 60-90 | KDJ高于此值视为超买区域，卖出 |

注：KDJ计算周期固定为9日（N=9, M1=3, M2=3），这是最常用的标准参数。

## 适用场景

- **市场环境**: 适用于震荡市和波段行情
- **时间周期**:
  - 日线：适合短线交易，捕捉快速反弹（推荐）
  - 周线：适合波段操作，信号更可靠但频率较低
- **市场特征**:
  - 股价在相对稳定的区间内波动
  - 有明显的支撑和阻力位
  - 适合做波段反弹和高抛低吸
  - 避免在单边强势趋势中使用（容易过早卖出）

## KDJ信号强度判断

| 信号类型 | 强度 | 说明 |
|---------|------|------|
| 20以下金叉 | 很强 | 深度超卖后反弹，成功率高 |
| 20-30之间金叉 | 强 | 超卖区域金叉（策略默认） |
| 50附近金叉 | 中等 | 需结合趋势判断 |
| K、D、J三线同时向上 | 增强 | 多头力量强，上涨动能充足 |
| J值提前拐头 | 预警 | J值最敏感，可作为提前信号 |

## 策略优势

1. **抄底能力强**: 专门捕捉超卖反弹，适合抄底
2. **信号敏感**: KDJ反应速度快，能较早发现买卖点
3. **区间操作**: 在震荡市中表现优异，适合高抛低吸
4. **风险控制**: 明确的超买超卖区域，风险相对可控
5. **直观易用**: 0-100的取值范围，超买超卖一目了然

## 策略局限

1. **趋势市失效**: 在强势上涨中过早卖出，错失主升浪
   - K值可能长期停留在高位（钝化）
   - 频繁卖出导致踏空

2. **假信号频繁**: 在震荡剧烈时可能频繁交叉，产生假信号

3. **下跌趋势风险**: 在下跌趋势中，超卖后可能继续下跌
   - "底部"之下还有"地下室"
   - 抄底可能变抄半山腰

4. **固定阈值**: 30和70的阈值不适用所有股票
   - 强势股可能很少跌破30
   - 弱势股可能很少突破70

5. **钝化现象**: 指标在极值区域停留过久，失去指导意义

## 优化建议

1. **趋势过滤**: 配合均线判断大趋势
   - 仅在上升趋势中做KDJ低位金叉买入
   - 下降趋势中不交易或仅做空

2. **参数优化**: 根据股票特性调整阈值
   - 活跃股（强势股）：可调整为20/80
   - 冷门股（弱势股）：可调整为25/75
   - 通过回测找到最优阈值组合

3. **多周期共振**: 结合不同时间周期
   - 日线+周线同时低位金叉：最强买入信号
   - 日线金叉但周线在高位：谨慎

4. **J值辅助**: 利用J值的敏感性
   - J值跌破0后回升突破0：强买入信号
   - J值超过100后回落：警惕风险

5. **成交量配合**: 金叉时伴随放量更可靠
   - 超卖区放量金叉：资金介入，可靠性高
   - 无量金叉：可能是弱反弹

6. **分批操作**: 避免一次性满仓
   - 超卖金叉时买入50%
   - K值进一步上升突破50时加仓
   - K值高于70时分批卖出

7. **止损保护**: 设置固定止损
   - 买入后跌破近期低点即止损
   - 或设置5-8%的固定止损比例

## 回测建议

- **回测周期**:
  - 日线：建议2-3年数据，包含震荡和趋势行情
  - 周线：建议5年以上数据
- **初始资金**: 建议100000元以上
- **手续费率**: 设置为0.0003（万三）
- **参数调优**:
  - **超卖阈值**: 测试20、25、30、35的效果
    - 阈值越低，信号越少但质量越高
    - 阈值越高，信号越多但假信号也多
  - **超买阈值**: 测试70、75、80、85的效果
    - 阈值越高，持仓时间越长，可能获得更多收益
    - 阈值越低，更早止盈，落袋为安
  - 测试不同阈值组合，如(20,80)、(25,75)、(30,70)
- **分类回测**:
  - 分别测试在上升趋势、下降趋势、震荡市的表现
  - 统计不同K值区间金叉的胜率
  - 分析持仓天数与收益的关系
- **性能指标**:
  - 关注胜率和盈亏比
  - 分析最大连续亏损和最大回撤
  - 对比不同市场环境下的表现差异

## 相关策略

- KDJ + MA组合: 趋势过滤+超买超卖，提高胜率
- KDJ背离策略: 价格与KDJ背离时的反转交易
- Williams %R: 类似的超买超卖指标，可相互验证
- Stochastic Oscillator: KDJ的原型，逻辑相似
