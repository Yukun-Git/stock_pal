# Bollinger Breakout 策略文档

## 策略概述

**策略名称**: Bollinger Breakout（布林带突破）

**策略类型**: 波动率突破策略

**策略描述**: 布林带（Bollinger Bands）是由约翰·布林格创立的技术指标，通过价格的标准差构建动态通道。策略在价格触及下轨时买入（超卖反弹），触及上轨时卖出（超买回调）。

## 策略原理

### 指标计算

布林带由三条线组成：

1. **中轨（MB - Middle Band）**:
   - MB = N日简单移动平均线（SMA）
   - 通常N=20，代表中期趋势
   - 是布林带的基准线

2. **上轨（UB - Upper Band）**:
   - UB = 中轨 + K × N日标准差
   - K通常为2
   - 表示价格的上方压力位

3. **下轨（LB - Lower Band）**:
   - LB = 中轨 - K × N日标准差
   - K通常为2
   - 表示价格的下方支撑位

**标准差的意义**:
- 标准差衡量价格波动程度
- 波动大时，通道变宽
- 波动小时，通道收窄
- 布林带是动态的、自适应的

### 交易信号

**买入信号（触及下轨）**:
- 前一日：收盘价 > 下轨
- 当日：收盘价 ≤ 下轨
- 表示价格跌至低位（2倍标准差之外），出现超卖
- 统计上有约95%的价格会在上下轨之间，突破下轨意味着极端情况

**卖出信号（触及上轨）**:
- 前一日：收盘价 < 上轨
- 当日：收盘价 ≥ 上轨
- 表示价格涨至高位（2倍标准差之外），出现超买
- 价格可能回归中轨

### 布林带形态分析

| 形态 | 特征 | 含义 |
|------|------|------|
| 收口 | 上下轨距离缩小 | 波动率降低，可能酝酿大行情 |
| 开口 | 上下轨距离扩大 | 波动率增加，行情正在展开 |
| 缩口后突破 | 收口后价格突破 | 强信号，可能是趋势启动点 |
| 沿上轨运行 | 价格紧贴上轨 | 强势特征，可能持续上涨 |
| 沿下轨运行 | 价格紧贴下轨 | 弱势特征，可能持续下跌 |

## 策略参数

| 参数名称 | 类型 | 默认值 | 可选值/范围 | 说明 |
|---------|------|--------|-----------|------|
| timeframe | 选择 | D | D(日线), W(周线) | 策略运行的时间周期 |

注：布林带使用标准参数（N=20, K=2），无需额外配置。

### 参数说明

- **N=20**: 中轨使用20日均线，是最常用的参数
  - 短期：可改为10日，更敏感
  - 长期：可改为50日，更平滑

- **K=2**: 上下轨为2倍标准差
  - K=1.5：通道更窄，信号更频繁
  - K=2.5：通道更宽，信号更可靠

## 适用场景

- **市场环境**: 适用于震荡市和区间波动行情
- **时间周期**:
  - 日线：捕捉短期超卖反弹和超买回调（推荐）
  - 周线：捕捉中期波段，信号更可靠但频率低
- **市场特征**:
  - 股价在相对稳定的范围内波动
  - 布林带宽度适中，非极端收缩或扩张
  - 价格频繁在上下轨之间波动
  - 适合做均值回归交易
  - 避免在单边趋势启动初期使用（突破可能是趋势而非反转）

## 策略优势

1. **动态调整**: 布林带根据波动率自动调整宽度，适应市场变化
2. **统计基础**: 基于标准差，有坚实的统计学理论支撑
3. **均值回归**: 利用"价格回归均值"的市场特性
4. **直观清晰**: 通道边界明确，买卖点一目了然
5. **应用广泛**: 布林带是最流行的技术指标之一，被广泛验证
6. **风险相对可控**: 在通道边界交易，有相对明确的支撑和阻力

## 策略局限

1. **趋势市失效**:
   - 强势突破上轨后可能持续上涨（沿上轨运行）
   - 过早卖出导致踏空主升浪
   - 下跌突破下轨后可能继续暴跌

2. **假突破频繁**:
   - 短暂触及上下轨后快速回撤
   - 尤其在日线级别，假信号较多

3. **滞后性**:
   - 中轨是均线，本质上有滞后
   - 标准差计算也基于历史数据

4. **突破困境**:
   - 难以区分是反转信号还是趋势启动
   - 突破下轨可能是抄底机会，也可能是崩盘开始

5. **参数敏感**:
   - (20,2)并非适用所有股票
   - 需要根据个股波动特性调整

## 优化建议

1. **趋势过滤**: 配合趋势指标判断方向
   - **上升趋势**（价格在中轨上方）:
     - 仅在触及下轨或中轨时买入
     - 触及上轨不卖出，等待趋势结束
   - **下降趋势**（价格在中轨下方）:
     - 避免抄底，或快进快出
     - 触及上轨及时卖出
   - 可用均线斜率或ADX判断趋势强度

2. **布林带宽度过滤**:
   - 计算带宽：(上轨 - 下轨) / 中轨
   - **极窄带宽**（收口）: 等待突破，不做反转
   - **适中带宽**: 正常交易（策略适用）
   - **极宽带宽**（开口）: 谨慎交易，波动剧烈

3. **多重确认**:
   - 触及下轨+RSI超卖：更强买入信号
   - 触及上轨+RSI超买：更强卖出信号
   - 触及下轨+成交量萎缩：可能筑底

4. **%B指标辅助**:
   - %B = (收盘价 - 下轨) / (上轨 - 下轨)
   - %B = 0：价格在下轨
   - %B = 1：价格在上轨
   - %B < 0：价格突破下轨（策略买入）
   - %B > 1：价格突破上轨（策略卖出）
   - 可用%B做更精细的判断

5. **挤压策略**（Squeeze）:
   - 当布林带收口至极窄时（波动率极低）
   - 后续通常会出现大行情（方向不确定）
   - 可等待收口后突破方向确定后再交易

6. **回归中轨策略**:
   - 当前策略：触及上下轨就交易
   - 改进：等待价格回归中轨再平仓
   - 可能获得更好的风险收益比

7. **分批操作**:
   - 触及下轨买入50%
   - 跌破下轨5%加仓50%
   - 回到中轨卖出50%
   - 触及上轨全部卖出

8. **止损机制**:
   - 买入后跌破近期低点止损
   - 或设置8-10%固定止损
   - 避免极端行情造成重大损失

## 回测建议

- **回测周期**:
  - 日线：建议2-3年数据，覆盖不同波动环境
  - 周线：建议5年以上数据
- **初始资金**: 建议100000元以上
- **手续费率**: 设置为0.0003（万三）
- **参数测试**（如果开放参数）:
  - **周期N**: 测试10、15、20、30
    - 周期越短，通道越窄，信号越多
    - 周期越长，通道越宽，信号越少但可靠
  - **标准差倍数K**: 测试1.5、2.0、2.5
    - K越小，通道越窄，触及频率越高
    - K越大，通道越宽，触及意味着更极端情况
  - 常见组合：(10,2)短线、(20,2)标准、(20,2.5)保守
- **分类回测**:
  - 分别测试震荡市、上升趋势、下降趋势的表现
  - 统计不同布林带宽度下的策略效果
  - 分析触及上下轨后的价格回归概率和幅度
- **对比测试**:
  - 对比"触及"和"收盘突破"两种信号方式
  - 测试是否应该等待价格回归中轨再卖出
  - 评估加入趋势过滤后的效果
  - 对比布林带策略与RSI/KDJ超买超卖策略

## 相关策略

- Bollinger Squeeze（布林带挤压）: 在极窄通道后突破时交易
- Bollinger Bounce（布林带反弹）: 与当前策略类似，均值回归
- Double Bollinger Bands: 使用不同K值的双重布林带
- Keltner Channels: 类似指标，使用ATR代替标准差
- %B + RSI组合: 多指标共振提高可靠性
